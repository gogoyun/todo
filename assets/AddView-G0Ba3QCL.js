import{d as u,e as g,p as y,c as l,q as w,a as s,t as r,g as a,F as v,f as F,j as p,o as i}from"./index-B8NkFvV2.js";import{c as m,d as S,a as $,u as j,F as k}from"./index.esm-Ct-gZwLP.js";import{h as B}from"./axios-D1FkswKm.js";const D="/todo/assets/add_pic-DLj440Tc.png",T={class:"flex flex-col justify-center content-center text-center"},V={class:"text-xl mt-2 mb-6"},q={class:"text-sm/6 text-primary pb-8"},A={class:"fieldset flex flex-col grow gap-7 mb-5"},L={class:"mt-2 mb-10"},N={type:"submit",class:"btn btn-md btn-wide bg-primary text-base-100 font-normal rounded-none h-[44px]"},C={class:"error-text mt-1 px-1 h-[18px]"},E=u({__name:"Add",setup(_){const{t:n}=g(),c=y(),f=m({titles:S().of(m({titles:$().nullable()})).test("must-one-title",n("validate.titleRequired"),o=>!o||o.length===0?!1:o.some(t=>t&&t.title&&t.title.trim()!==""))}),{handleSubmit:x,errors:b,resetForm:h}=j({validationSchema:f}),d=x(async o=>{const t=o.titles.filter(e=>e&&e.title&&e.title.trim()!=="");await B(t).then(e=>{e.status==200&&(c.toastData={status:!0,type:"success",message:n("validate.success.add"),ms:3e3},h())})},o=>{console.log("errors",o)});return(o,t)=>(i(),l("form",{onSubmit:t[0]||(t[0]=w((...e)=>a(d)&&a(d)(...e),["prevent"]))},[s("div",T,[s("h1",V,r(a(n)("add.title")),1),t[1]||(t[1]=s("img",{src:D,class:"inline-block mx-auto my-6",alt:"welcome back!"},null,-1)),s("p",q,r(a(n)("add.subtitle")),1),s("fieldset",A,[(i(),l(v,null,F(3,e=>s("div",null,[p(a(k),{type:"text",class:"input w-full h-[47px] border-0 rounded-[11px]",name:`titles[${e-1}].title`},null,8,["name"])])),64))]),s("div",L,[s("button",N,r(a(n)("add.submitButton")),1),s("div",C,r(a(b).titles),1)])])],32))}}),I={class:"flex flex-1 flex-col justify-between content-center p-6"},G=u({__name:"AddView",setup(_){return(n,c)=>(i(),l("main",I,[p(E)]))}});export{G as default};
